/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ (() => {

eval("console.log('app starting');\n\nconst CACHE_NAME = 'cache-v0.0.0'\nconst CACHED_URLS = [\n  '/',\n  '/manifest.json',\n  '/images/logo-192x192.png',\n  '/images/logo-512x512.png',\n  '/style.css'\n]\n\nclass App {\n  constructor() {\n    this.serviceWorker_ = null;\n\n    if ('serviceWorker' in navigator) {\n      console.log('adding service worker');\n      window.addEventListener('load', () => {\n        navigator.serviceWorker.register('src/cache.js', { scope: './src/' }).then(\n          serviceWorker => this.cacheWorkerCallback(serviceWorker));\n      });\n    }\n  }\n\n  addEventListeners() {\n    // Open cache on install.\n    self.addEventListener('install', event => {\n      event.waitUntil(async function () {\n        const cache = await caches.open(CACHE_NAME)\n\n        await cache.addAll(CACHED_URLS)\n      }());\n    });\n\n    // Cache and update with stale-while-revalidate policy.\n    self.addEventListener('fetch', event => {\n      const { request } = event\n\n      if (request.cache === 'only-if-cached' && request.mode !== 'same-origin') {\n        return;\n      }\n\n      event.respondWith(async function () {\n        const cache = await caches.open(CACHE_NAME)\n\n        const cachedResponsePromise = await cache.match(request);\n        const networkResponsePromise = fetch(request);\n\n        if (request.url.startsWith(self.location.origin)) {\n          event.waitUntil(async function () {\n            const networkResponse = await networkResponsePromise;\n\n            await cache.put(request, networkResponse.clone());\n          }())\n        }\n\n        return cachedResponsePromise || networkResponsePromise;\n      }())\n    });\n\n    // Clean up caches other than current.\n    self.addEventListener('activate', event => {\n      event.waitUntil(async function () {\n        const cacheNames = await caches.keys()\n\n        await Promise.all(\n          cacheNames.filter((cacheName) => {\n            const deleteThisCache = cacheName !== CACHE_NAME;\n\n            return deleteThisCache;\n          }).map(cacheName => caches.delete(cacheName))\n        )\n      }());\n    });\n  }\n\n  cacheWorkerCallback(serviceWorker) {\n      this.serviceWorker_ = serviceWorker;\n      this.setupNotifications();\n  }\n\n  setupNotifications() {\n    if (!this.serviceWorker_.showNotification) {\n      console.warn('Notifications aren\\'t supported.');\n      return;\n    }\n    if (Notification.permission === 'denied') {\n      console.warn('The user has blocked notifications.');\n      return;\n    }\n    if (!('PushManager' in window)) {\n      console.warn('Push messaging isn\\'t supported.');\n      return;\n    }\n    navigator.serviceWorker.ready.then((swReg) => {\n      // Do we already have a push message subscription?\n      swReg.pushManager.getSubscription()\n      .then((subscription) => {\n          if(!subscription){\n             console.log('No Subscription endpoint present')\n          }\n      })\n   })\n  }\n}\n\nconst app = new App();\napp.addEventListeners();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwLmpzIiwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxpQkFBaUI7QUFDNUU7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGNBQWMsVUFBVTs7QUFFeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dhcHAtcHdlLy4vc3JjL2FwcC5qcz8xMTEyIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdhcHAgc3RhcnRpbmcnKTtcblxuY29uc3QgQ0FDSEVfTkFNRSA9ICdjYWNoZS12MC4wLjAnXG5jb25zdCBDQUNIRURfVVJMUyA9IFtcbiAgJy8nLFxuICAnL21hbmlmZXN0Lmpzb24nLFxuICAnL2ltYWdlcy9sb2dvLTE5MngxOTIucG5nJyxcbiAgJy9pbWFnZXMvbG9nby01MTJ4NTEyLnBuZycsXG4gICcvc3R5bGUuY3NzJ1xuXVxuXG5jbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNlcnZpY2VXb3JrZXJfID0gbnVsbDtcblxuICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnYWRkaW5nIHNlcnZpY2Ugd29ya2VyJyk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3NyYy9jYWNoZS5qcycsIHsgc2NvcGU6ICcuL3NyYy8nIH0pLnRoZW4oXG4gICAgICAgICAgc2VydmljZVdvcmtlciA9PiB0aGlzLmNhY2hlV29ya2VyQ2FsbGJhY2soc2VydmljZVdvcmtlcikpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8gT3BlbiBjYWNoZSBvbiBpbnN0YWxsLlxuICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFsbCcsIGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LndhaXRVbnRpbChhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gYXdhaXQgY2FjaGVzLm9wZW4oQ0FDSEVfTkFNRSlcblxuICAgICAgICBhd2FpdCBjYWNoZS5hZGRBbGwoQ0FDSEVEX1VSTFMpXG4gICAgICB9KCkpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2FjaGUgYW5kIHVwZGF0ZSB3aXRoIHN0YWxlLXdoaWxlLXJldmFsaWRhdGUgcG9saWN5LlxuICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCBldmVudCA9PiB7XG4gICAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGV2ZW50XG5cbiAgICAgIGlmIChyZXF1ZXN0LmNhY2hlID09PSAnb25seS1pZi1jYWNoZWQnICYmIHJlcXVlc3QubW9kZSAhPT0gJ3NhbWUtb3JpZ2luJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnJlc3BvbmRXaXRoKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSBhd2FpdCBjYWNoZXMub3BlbihDQUNIRV9OQU1FKVxuXG4gICAgICAgIGNvbnN0IGNhY2hlZFJlc3BvbnNlUHJvbWlzZSA9IGF3YWl0IGNhY2hlLm1hdGNoKHJlcXVlc3QpO1xuICAgICAgICBjb25zdCBuZXR3b3JrUmVzcG9uc2VQcm9taXNlID0gZmV0Y2gocmVxdWVzdCk7XG5cbiAgICAgICAgaWYgKHJlcXVlc3QudXJsLnN0YXJ0c1dpdGgoc2VsZi5sb2NhdGlvbi5vcmlnaW4pKSB7XG4gICAgICAgICAgZXZlbnQud2FpdFVudGlsKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtSZXNwb25zZSA9IGF3YWl0IG5ldHdvcmtSZXNwb25zZVByb21pc2U7XG5cbiAgICAgICAgICAgIGF3YWl0IGNhY2hlLnB1dChyZXF1ZXN0LCBuZXR3b3JrUmVzcG9uc2UuY2xvbmUoKSk7XG4gICAgICAgICAgfSgpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhY2hlZFJlc3BvbnNlUHJvbWlzZSB8fCBuZXR3b3JrUmVzcG9uc2VQcm9taXNlO1xuICAgICAgfSgpKVxuICAgIH0pO1xuXG4gICAgLy8gQ2xlYW4gdXAgY2FjaGVzIG90aGVyIHRoYW4gY3VycmVudC5cbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2FjdGl2YXRlJywgZXZlbnQgPT4ge1xuICAgICAgZXZlbnQud2FpdFVudGlsKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2FjaGVOYW1lcyA9IGF3YWl0IGNhY2hlcy5rZXlzKClcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBjYWNoZU5hbWVzLmZpbHRlcigoY2FjaGVOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWxldGVUaGlzQ2FjaGUgPSBjYWNoZU5hbWUgIT09IENBQ0hFX05BTUU7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWxldGVUaGlzQ2FjaGU7XG4gICAgICAgICAgfSkubWFwKGNhY2hlTmFtZSA9PiBjYWNoZXMuZGVsZXRlKGNhY2hlTmFtZSkpXG4gICAgICAgIClcbiAgICAgIH0oKSk7XG4gICAgfSk7XG4gIH1cblxuICBjYWNoZVdvcmtlckNhbGxiYWNrKHNlcnZpY2VXb3JrZXIpIHtcbiAgICAgIHRoaXMuc2VydmljZVdvcmtlcl8gPSBzZXJ2aWNlV29ya2VyO1xuICAgICAgdGhpcy5zZXR1cE5vdGlmaWNhdGlvbnMoKTtcbiAgfVxuXG4gIHNldHVwTm90aWZpY2F0aW9ucygpIHtcbiAgICBpZiAoIXRoaXMuc2VydmljZVdvcmtlcl8uc2hvd05vdGlmaWNhdGlvbikge1xuICAgICAgY29uc29sZS53YXJuKCdOb3RpZmljYXRpb25zIGFyZW5cXCd0IHN1cHBvcnRlZC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVuaWVkJykge1xuICAgICAgY29uc29sZS53YXJuKCdUaGUgdXNlciBoYXMgYmxvY2tlZCBub3RpZmljYXRpb25zLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoISgnUHVzaE1hbmFnZXInIGluIHdpbmRvdykpIHtcbiAgICAgIGNvbnNvbGUud2FybignUHVzaCBtZXNzYWdpbmcgaXNuXFwndCBzdXBwb3J0ZWQuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4oKHN3UmVnKSA9PiB7XG4gICAgICAvLyBEbyB3ZSBhbHJlYWR5IGhhdmUgYSBwdXNoIG1lc3NhZ2Ugc3Vic2NyaXB0aW9uP1xuICAgICAgc3dSZWcucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKClcbiAgICAgIC50aGVuKChzdWJzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICBpZighc3Vic2NyaXB0aW9uKXtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gU3Vic2NyaXB0aW9uIGVuZHBvaW50IHByZXNlbnQnKVxuICAgICAgICAgIH1cbiAgICAgIH0pXG4gICB9KVxuICB9XG59XG5cbmNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcbmFwcC5hZGRFdmVudExpc3RlbmVycygpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/app.js"]();
/******/ 	
/******/ })()
;